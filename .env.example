# =============================================================================
# Gifomatic Configuration
# =============================================================================
# All settings with their default values.
# Copy this file to .env and modify as needed: cp .env.example .env
# =============================================================================

# -----------------------------------------------------------------------------
# Flask Settings
# -----------------------------------------------------------------------------

# Secret key for session encryption (auto-generated if not set)
# Generate a secure key with: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=

# Environment: 'production' (default) or 'development' (enables debug mode)
FLASK_ENV=production

# Server host and port
HOST=0.0.0.0
PORT=5000

# -----------------------------------------------------------------------------
# File & Upload Limits
# -----------------------------------------------------------------------------

# Maximum upload file size in bytes (default: 5GB = 5368709120)
MAX_UPLOAD_SIZE=5368709120

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------

# Time window for rate limiting in seconds
RATE_LIMIT_WINDOW=60

# Maximum API requests per window per IP
RATE_LIMIT_MAX_REQUESTS=10

# Maximum video uploads per window per IP
RATE_LIMIT_MAX_UPLOADS=3

# -----------------------------------------------------------------------------
# Job Management
# -----------------------------------------------------------------------------

# Maximum simultaneous video processing jobs
MAX_CONCURRENT_JOBS=5

# Hours before jobs are auto-cleaned (0 = never delete)
JOB_EXPIRY_HOURS=0

# Maximum cache entries before oldest are removed
MAX_JOBS_STORED=100

# -----------------------------------------------------------------------------
# Video Processing Limits
# -----------------------------------------------------------------------------

# Maximum video duration in seconds (0 = no limit, default: 10800 = 3 hours)
MAX_VIDEO_DURATION=10800

# Maximum clips per video (0 = no limit)
MAX_CLIPS=0

# Maximum GIFs that can be merged at once
MAX_MERGE_GIFS=20

# -----------------------------------------------------------------------------
# GIF Output Defaults (users can override via web UI)
# -----------------------------------------------------------------------------

# Maximum seconds per GIF clip
DEFAULT_GIF_DURATION=5.0

# Scene detection sensitivity (lower = more scene cuts, range: 10-60)
DEFAULT_SCENE_THRESHOLD=30

# Frames per second (range: 5-30)
DEFAULT_GIF_FPS=10

# Width in pixels, height auto-scaled (range: 320-1920)
DEFAULT_GIF_WIDTH=480

# -----------------------------------------------------------------------------
# Directories
# -----------------------------------------------------------------------------

# Temporary upload storage directory
UPLOAD_FOLDER=uploads

# Generated GIFs storage directory
OUTPUT_FOLDER=output

# Cache file path
CACHE_FILE=cache.json

# -----------------------------------------------------------------------------
# Timeouts
# -----------------------------------------------------------------------------

# FFmpeg timeout per GIF in seconds
FFMPEG_TIMEOUT=60

# FFmpeg timeout for merge operations in seconds
FFMPEG_MERGE_TIMEOUT=300
